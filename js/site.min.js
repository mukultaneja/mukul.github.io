!function(e){var a=function(a){var t=e(a),n=t.get(0),o=n.getContext("2d"),l=arbor.Graphics(n),r=null,i=null,d=null,h=null,c=null,s={init:function(e){r=e,r.screen({size:{width:t.width(),height:t.height()}}),s.resize(),s._initMouseHandling()},resize:function(){n.width=.83*window.innerWidth,n.height=.83*window.innerHeight,r.screen({size:{width:n.width,height:n.height}}),i=null,s.redraw()},redraw:function(){l.clear(),r.eachEdge(function(e,a,t){e.source.data.alpha*e.target.data.alpha!=0&&l.line(a,t,{stroke:"#b2b19d",width:2,alpha:e.target.data.alpha})}),r.eachNode(function(e,a){var t=.02*window.innerWidth+l.textWidth(e.data.label);console.log(t),0!==e.data.alpha&&("dot"==e.data.shape?(l.oval(a.x-t/2,a.y-t/2,t,t,{fill:e.data.color,alpha:e.data.alpha}),l.text(e.data.label,a.x,a.y+7,{color:"white",align:"center",font:"Arial",size:12}),l.text(e.data.label,a.x,a.y+7,{color:"white",align:"center",font:"Arial",size:12})):(l.rect(a.x-t/2,a.y-8,t,20,4,{fill:e.data.color,alpha:e.data.alpha}),l.text(e.data.label,a.x,a.y+9,{color:"white",align:"center",font:"Arial",size:12}),l.text(e.data.label,a.x,a.y+9,{color:"white",align:"center",font:"Arial",size:12})))}),s._drawVignette()},_drawVignette:function(){var e=n.width,a=n.height,t=20;if(!i){var l=o.createLinearGradient(0,0,0,t);l.addColorStop(0,"#e0e0e0"),l.addColorStop(.7,"rgba(255,255,255,0)");var r=o.createLinearGradient(0,a-t,0,a);r.addColorStop(0,"rgba(255,255,255,0)"),r.addColorStop(1,"white"),i={top:l,bot:r}}o.fillStyle=i.top,o.fillRect(0,0,e,t),o.fillStyle=i.bot,o.fillRect(0,a-t,e,t)},switchMode:function(a){"hidden"==a.mode?t.stop(!0).fadeTo(a.dt,0,function(){r&&r.stop(),e(this).hide()}):"visible"==a.mode&&(t.stop(!0).css("opacity",0).show().fadeTo(a.dt,1,function(){s.resize()}),r&&r.start())},switchSection:function(a){var t=r.getEdgesFrom(a)[0].source,n=e.map(r.getEdgesFrom(a),function(e){return e.target});r.eachNode(function(a){if("dot"!=a.data.shape){var o=e.inArray(a,n)>=0,l=o?1:0,i=.5;r.tweenNode(a,i,{alpha:l}),1==l&&(a.p.x=t.p.x+.05*Math.random()-.025,a.p.y=t.p.y+.05*Math.random()-.025,a.tempMass=.001)}})},_initMouseHandling:function(){d=null,h=null;var a=null,t=null,o={moved:function(a){var o=e(n).offset();if(c=arbor.Point(a.pageX-o.left,a.pageY-o.top),h=r.nearest(c),!h.node)return!1;var l=["mukul","edu","pro","hobbies","trainings","certificates"];return"dot"!=h.node.data.shape?d=h.distance<50?h:null:e.inArray(h.node.name,l)>=0&&h.node.name!=t&&(t=h.node.name,s.switchSection(t)),!1},clicked:function(t){var l=e(n).offset();if(console.log(l),c=arbor.Point(t.pageX-l.left,t.pageY-l.top),h=a=r.nearest(c),h&&d&&h.node===d.node){d.node.data.link;return!1}return a&&null!==a.node&&(a.node.fixed=!0),e(n).unbind("mousemove",o.moved),e(n).bind("mousemove",o.dragged),e(window).bind("mouseup",o.dropped),!1},dragged:function(t){var o=(h&&h.node._id,e(n).offset()),l=arbor.Point(t.pageX-o.left,t.pageY-o.top);if(h){if(null!==a&&null!==a.node){var i=r.fromScreen(l);a.node.p=i}return!1}},dropped:function(t){return null!==a&&void 0!==a.node?(null!==a.node&&(a.node.fixed=!1),a.node.tempMass=1e3,a=null,e(n).unbind("mousemove",o.dragged),e(window).unbind("mouseup",o.dropped),e(n).bind("mousemove",o.moved),c=null,!1):void 0}};e(n).mousedown(o.clicked),e(n).mousemove(o.moved)}};return s};e(document).ready(function(){var e={nodes:{mukul:{color:"purple",shape:"dot",label:"Mukul"},edu:{color:"navy",shape:"dot",label:"Education"},pro:{color:"navy",shape:"dot",label:"Professional"},hobbies:{color:"navy",shape:"dot",label:"Hobbies"},certificates:{color:"navy",shape:"dot",label:"Certificates"},trainings:{color:"navy",shape:"dot",label:"Trainings"},2006:{color:"green",alpha:0,label:"10th"},2008:{color:"green",alpha:0,label:"12th"},2009:{color:"green",alpha:0,label:"B.Tech"},2015:{color:"green",alpha:0,label:"Gramener"},music:{color:"green",alpha:0,label:"Music"},netsurfing:{color:"green",alpha:0,label:"Net Surfing"},games:{color:"green",alpha:0,label:"Video Games"},rhcsa:{color:"green",alpha:0,label:"RHCSA"},rhce:{color:"green",alpha:0,label:"RHCE"},amcat:{color:"green",alpha:0,label:"AMCAT Certified SE"},db2:{color:"green",alpha:0,label:"IBM DB2 Workshop"},cloud:{color:"green",alpha:0,label:"IBM Cloud Computing"},php:{color:"green",alpha:0,label:"PHP Training"}},edges:{mukul:{edu:{length:10.5},pro:{length:10.5},hobbies:{length:10.5},certificates:{length:10.5},trainings:{length:10.5}},edu:{2006:{length:4.5},2008:{length:4.5},2009:{length:4.5}},pro:{2015:{length:4.5}},hobbies:{music:{length:4.5},netsurfing:{length:4.5},games:{length:4.5}},certificates:{rhcsa:{length:4.5},rhce:{length:4.5},amcat:{length:4.5}},trainings:{db2:{length:4.5},cloud:{length:4.5},php:{length:4.5}}}},t=arbor.ParticleSystem();t.parameters({stiffness:200,repulsion:2e3,gravity:!1,dt:.02}),t.renderer=a("#viewport"),t.graft(e)})}(this.jQuery);